<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE xmodel SYSTEM "http://eurace.cs.bilgi.edu.tr/XMML.dtd">
<xmodel version="2">

<name>Investment_Goods_Market</name>
<version>pre-Genoa</version>
<description></description>

<environment>

<functionFiles>
<file>IGfirm_functions.c</file>
</functionFiles>
</environment>

<agents>
<xagent>
<name>IGFirm</name>
<description></description>
<memory>
<variable><type>double</type><name>productivity_progress</name><description></description></variable>
<variable><type>double</type><name>innovation_probability</name><description></description></variable>
<variable><type>double</type><name>productivity</name><description></description></variable>
<variable><type>double</type><name>capital_good_price</name><description></description></variable>
<variable><type>double</type><name>revenue_per_day</name><description></description></variable>
<variable><type>double</type><name>tax_rate_corporate</name><description></description></variable>
<variable><type>double</type><name>tax_rate_vat</name><description></description></variable>
<variable><type>double</type><name>tax_payment</name><description></description></variable>
<variable><type>double</type><name>net_profit</name><description></description></variable>
<variable><type>int</type><name>outstanding_shares</name><description></description></variable>
<variable><type>double</type><name>current_dividend_per_share</name><description></description></variable>
<variable><type>double</type><name>cum_revenues</name><description></description></variable>
</memory>
<functions>


<function>
<name>IGFirm_calc_production_quantity</name>
<description>IGFirm calculate the intended production volume depending 
on the current stocks in the malls</description>
<currentState>011c</currentState>
<nextState>01a</nextState>
<condition><time><period>monthly</period><phase>a.day_of_month_to_act</phase></time></condition>
</function>

<function>
<name>IGFirm_set_quantities_zero</name>
<description>Dummy: no production on not_day_of_month_to_act</description>
<currentState>Start_IGFirm_Productivity</currentState>
<nextState>0122</nextState>
<condition><not><time><period>monthly</period><phase>a.day_of_month_to_act</phase></time></not></condition>
</function>

<function><name>IGFirm_calc_input_demands</name>
<description>IGFirms calculate the labor demand and the demand for energy</description>
<currentState>01a</currentState>
<nextState>Start_IGFirm_Employer_Role</nextState>
</function>



<function><name>IGFirm_update_productivity_price</name>
<description></description>
<currentState>Start_IGFirm_Productivity</currentState>
<nextState>011a</nextState>
<condition><time><period>monthly</period><phase>a.day_of_month_to_act</phase></time></condition>
</function>

<!--  
<function><name>IGFirm_idle</name>
<description></description>
<currentState>Start_IGFirm_Productivity</currentState>
<nextState>01</nextState>
<condition><not><time><period>monthly</period><phase>a.day_of_month_to_act</phase></time></not></condition>
</function>
-->

<function><name>IGFirm_send_quality_price_info</name>
<description></description>
<currentState>011a</currentState>
<nextState>011c</nextState>
<outputs>
<output><messageName>productivity</messageName></output>
</outputs>
</function>

<function><name>IGFirm_send_capital_good</name>
<description></description>
<currentState>End_IGFirm_Employer_Role</currentState>
<nextState>011b</nextState>
<inputs>
<input><messageName>capital_good_request</messageName></input>
</inputs>
<outputs>
<output><messageName>capital_good_delivery</messageName></output>
</outputs>
</function>

<function><name>IGFirm_receive_payment</name>
<description></description>
<currentState>011b</currentState>
<nextState>04</nextState>
<inputs>
<input><messageName>pay_capital_goods</messageName></input>
</inputs>
</function>

<function><name>IGFirm_pay_taxes</name>
<description></description>
<currentState>04</currentState>
<nextState>04b</nextState>
<condition><time><period>monthly</period><phase>a.day_of_month_to_act</phase></time></condition>
<outputs>
<output><messageName>tax_payment</messageName></output>
</outputs>
</function>

<function><name>IGFirm_dividend_payment</name>
<description></description>
<currentState>04b</currentState>
<nextState>04c</nextState>
<condition><time><period>monthly</period><phase>a.day_of_month_to_act</phase></time></condition>
<outputs>
<output><messageName>dividend_per_share</messageName></output>
</outputs>
</function>

<function><name>IGFirm_idle</name>
<description></description>
<currentState>04</currentState>
<nextState>04c</nextState>
<condition><not><time><period>monthly</period><phase>a.day_of_month_to_act</phase></time></not></condition>
</function>

</functions>
</xagent>

</agents>

<messages>

<message>
<name>productivity</name>
<description></description>
<variables>
<variable><type>int</type><name>IGfirm_id</name><description></description></variable>
<variable><type>double</type><name>cap_productivity</name><description></description></variable>
<variable><type>double</type><name>cap_good_price</name><description></description></variable>
</variables>
</message>

<message>
<name>capital_good_request</name>
<description></description>
<variables>
<variable><type>int</type><name>firm_id</name><description></description></variable>
<variable><type>double</type><name>capital_good_demand</name><description></description></variable>
</variables>
</message>

<message>
<name>capital_good_profit_distribution</name>
<description></description>
<variables>
<variable><type>double</type><name>capital_good_profit_shares</name><description></description></variable>
</variables>
</message>

<message>
<name>capital_good_delivery</name>
<description></description>
<variables>
<variable><type>int</type><name>firm_id</name><description></description></variable>
<variable><type>double</type><name>capital_good_delivery_volume</name><description></description></variable>
<variable><type>double</type><name>productivity</name><description></description></variable>
<variable><type>double</type><name>capital_good_price</name><description></description></variable>
</variables>
</message>

<message>
<name>dividend</name>
<description></description>
<variables>
<variable><type>double</type><name>dividend</name><description></description></variable>
</variables>
</message>


<message>
<name>pay_capital_goods</name>
<description></description>
<variables>
<variable><type>int</type><name>firm_id</name><description></description></variable>
<variable><type>double</type><name>capital_bill</name><description></description></variable>
</variables>
</message>

</messages>

</xmodel>
