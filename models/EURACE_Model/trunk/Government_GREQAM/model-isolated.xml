<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE xmodel SYSTEM "http://eurace.cs.bilgi.edu.tr/XMML.dtd">
<xmodel version="2">

<name>Government</name>
<version>pre-Aix, 22/09/2008</version>
<description>Authors: Sander van der Hoog</description>

<environment>
<constants>
<variable><type>double</type><name>gov_policy_unemployment_benefit_pct</name><description>Parameter that sets the unemployment benefit as a fraction of last labour income.</description></variable>
<variable><type>double</type><name>gov_policy_money_financing_fraction</name><description>Parameter that sets the fraction of the budget deficit that is financed using money financing.</description></variable>
<variable><type>double</type><name>gov_policy_budget_pct</name><description>Parameter that sets the budget forecast for the next year as a function of last years GDP (typically in the range [1.02, 1.05]).</description></variable>
</constants>

<functionFiles>
<file>Government_Functions.c</file>
<!--<file>Central_Bank_Functions.c</file>-->
</functionFiles>

<timeUnits>

<timeUnit>
 <name>daily</name>
 <unit>iteration</unit>
 <period>1</period>
</timeUnit>

<timeUnit>
 <name>weekly</name>
 <unit>daily</unit>
 <period>5</period>
</timeUnit>

<timeUnit>
 <name>monthly</name>
 <unit>weekly</unit>
 <period>4</period>
</timeUnit>

<timeUnit>
 <name>quarterly</name>
 <unit>monthly</unit>
 <period>3</period>
</timeUnit>

<timeUnit>
 <name>yearly</name>
 <unit>monthly</unit>
 <period>12</period>
</timeUnit>

<timeUnit>
 <name>millionyearly</name>
 <unit>yearly</unit>
 <period>1000000</period>
</timeUnit>

</timeUnits>

</environment>

<agents>

<xagent>
<name>Household</name>
<description></description>
<memory>
<variable><type>int</type><name>id</name><description></description></variable>
</memory>

<functions>
<!--monthly loop-->
<function>
<name>Household_idle</name>
<description></description>
<currentState>01</currentState>
<nextState>end_Household</nextState>
<condition><not><time><period>monthly</period><phase>1</phase></time></not></condition>
</function>

<function>
<name>Household_tax_payment</name>
<description></description>
<currentState>01</currentState>
<nextState>02</nextState>
<condition><time><period>monthly</period><phase>1</phase></time></condition>
<outputs>
<output>
<messageName>tax_payment</messageName>
</output>
</outputs>
</function>

<function>
<name>Household_subsidy_application</name>
<description></description>
<currentState>02</currentState>
<nextState>03</nextState>
<outputs>
<output>
<messageName>subsidy_payment_notification</messageName>
</output>
</outputs>
</function>

<function>
<name>Household_transfer_application</name>
<description></description>
<currentState>03</currentState>
<nextState>04</nextState>
<outputs>
<output>
<messageName>transfer_payment_notification</messageName>
</output>
</outputs>
</function>

<function>
<name>Household_unemployment_benefit_application</name>
<description></description>
<currentState>04</currentState>
<nextState>end_Household</nextState>
<outputs>
<output>
<messageName>unemployment_notification</messageName>
</output>
</outputs>
</function>

</functions>
</xagent>

<xagent>
<name>Firm</name>
<description></description>
<memory>
<variable><type>int</type><name>id</name><description></description></variable>
</memory>

<functions>
<!--monthly loop-->
<function>
<name>Firm_idle</name>
<description></description>
<currentState>01</currentState>
<nextState>end_Firm</nextState>
<condition><not><time><period>monthly</period><phase>1</phase></time></not></condition>
</function>

<function>
<name>Firm_tax_payment</name>
<description></description>
<currentState>01</currentState>
<nextState>02</nextState>
<condition><time><period>monthly</period><phase>1</phase></time></condition>
<outputs>
<output>
<messageName>tax_payment</messageName>
</output>
</outputs>
</function>

<function>
<name>Firm_subsidy_application</name>
<description></description>
<currentState>02</currentState>
<nextState>03</nextState>
<outputs>
<output>
<messageName>subsidy_payment_notification</messageName>
</output>
</outputs>
</function>

<function>
<name>Firm_transfer_application</name>
<description></description>
<currentState>03</currentState>
<nextState>end_Firm</nextState>
<outputs>
<output>
<messageName>transfer_payment_notification</messageName>
</output>
</outputs>
</function>
</functions>
</xagent>


<xagent>
<name>Government</name>
<description></description>
<memory>
<variable><type>int</type><name>id</name><description></description></variable>
<variable><type>double</type><name>tax_revenues</name><description></description></variable>
<variable><type>double</type><name>total_unemployment_benefit_payment</name><description>Unemployment benefit payments for all unemployed households.</description></variable>
<variable><type>double</type><name>total_transfer_payment</name><description></description></variable>
<variable><type>double</type><name>total_bond_coupon_payment</name><description></description></variable>
<variable><type>double</type><name>gov_interest_rate</name><description>Interest rate the gov uses to interest on the public debt.</description></variable>
<variable><type>double</type><name>total_interest_payment</name><description></description></variable>
<variable><type>double</type><name>total_gov_investment</name><description></description></variable>
<variable><type>double</type><name>total_gov_consumption</name><description></description></variable>
<variable><type>double</type><name>total_debt</name><description></description></variable>
<variable><type>double</type><name>budget_deficit</name><description></description></variable>
<variable><type>double</type><name>total_money_financing</name><description></description></variable>
<variable><type>double</type><name>total_bond_financing</name><description></description></variable>
<variable><type>double</type><name>gdp</name><description></description></variable>
<variable><type>double</type><name>budget_forecast</name><description></description></variable>
<variable><type>double</type><name>tax_rate_corporate</name><description></description></variable>
<variable><type>double</type><name>tax_rate_hh_labour</name><description></description></variable>
<variable><type>double</type><name>tax_rate_hh_capital</name><description></description></variable>
<variable><type>double</type><name>tax_rate_vat</name><description></description></variable>
<variable><type>double</type><name>country_wide_mean_wage</name><description></description></variable>
<variable><type>int</type><name>num_unemployed</name><description></description></variable>
</memory>

<functions>

<!-- yearly loop -->
<function>
<name>Government_idle</name>
<description></description>
<currentState>start_Government</currentState>
<nextState>00</nextState>
<condition><not><time><period>yearly</period><phase>1</phase></time></not></condition>
</function>

<function>
<name>Government_send_policy_announcements</name>
<description></description>
<currentState>start_Government</currentState>
<nextState>00</nextState>
<condition><time><period>yearly</period><phase>1</phase></time></condition>
<outputs>
<output><messageName>government_tax_rates</messageName></output>
<output><messageName>unemployment_benefit_announcement</messageName></output>
<output><messageName>transfer_payment_announcement</messageName></output>
<output><messageName>subsidy_payment_announcement</messageName></output>
</outputs>
</function>

<!--monthly loop-->
<function>
<name>Government_idle</name>
<description></description>
<currentState>00</currentState>
<nextState>04</nextState>
<condition><not><time><period>monthly</period><phase>1</phase></time></not></condition>
</function>

<function>
<name>Government_read_tax_payment</name>
<description></description>
<currentState>00</currentState>
<nextState>01</nextState>
<condition><time><period>monthly</period><phase>1</phase></time></condition>
<inputs>
<input>
<messageName>tax_payment</messageName>
<filter><lhs><value>a.id</value></lhs><op>EQ</op><rhs><value>m.gov_id</value></rhs></filter>
</input>
</inputs>
</function>

<function>
<name>Government_read_subsidy_applications</name>
<description></description>
<currentState>01</currentState>
<nextState>02</nextState>
<inputs>
<input>
<messageName>subsidy_payment_notification</messageName>
<filter><lhs><value>a.id</value></lhs><op>EQ</op><rhs><value>m.gov_id</value></rhs></filter>
</input>
</inputs>
</function>

<function>
<name>Government_read_transfer_applications</name>
<description></description>
<currentState>02</currentState>
<nextState>03</nextState>
<inputs>
<input>
<messageName>transfer_payment_notification</messageName>
<filter><lhs><value>a.id</value></lhs><op>EQ</op><rhs><value>m.gov_id</value></rhs></filter>
</input>
</inputs>
</function>

<function>
<name>Government_read_unemployment_benefit_applications</name>
<description></description>
<currentState>03</currentState>
<nextState>04</nextState>
<inputs>
<input><messageName>unemployment_notification</messageName>
<filter><lhs><value>a.id</value></lhs><op>EQ</op><rhs><value>m.gov_id</value></rhs></filter>
</input>
</inputs>
</function>

<!--yearly loop: end of year-->
<function>
<name>Government_idle</name>
<description></description>
<currentState>04</currentState>
<nextState>end_Government</nextState>
<condition><not><time><period>yearly</period><phase>0</phase></time></not></condition>
</function>

<function>
<name>Government_budget_accounting</name>
<description></description>
<currentState>04</currentState>
<nextState>05</nextState>
<condition><time><period>yearly</period><phase>0</phase></time></condition>
</function>

<function>
<name>Government_send_account_update</name>
<description></description>
<currentState>05</currentState>
<nextState>06</nextState>
<outputs>
<output><messageName>central_bank_account_update</messageName></output>
</outputs>
</function>

<function>
<name>Government_read_data_from_Eurostat</name>
<description></description>
<currentState>06</currentState>
<nextState>07</nextState>
<inputs>
<input><messageName>mean_wage_for_government</messageName></input>
<input><messageName>region_gdp_for_government</messageName></input>
</inputs>
</function>

<function>
<name>Government_set_policy</name>
<description></description>
<currentState>07</currentState>
<nextState>08</nextState>
</function>

<function>
<name>Government_yearly_resetting</name>
<description></description>
<currentState>08</currentState>
<nextState>end_Government</nextState>
</function>

</functions>
</xagent>


<xagent>
<name>Central_Bank</name>
<description></description>
<memory>
<variable><type>double</type><name>bank_accounts[30]</name><description></description></variable>
<variable><type>double</type><name>gov_accounts[30]</name><description></description></variable>
</memory>

<functions>
<function>
<name>Central_Bank_read_account_update</name>
<description></description>
<currentState>start_Central_Bank</currentState>
<nextState>end_Central_Bank</nextState>
<inputs>
<input><messageName>central_bank_account_update</messageName></input>
</inputs>
</function>
</functions>
</xagent>

</agents>

<messages>
<message>
<name>central_bank_account_update</name>
<description>Gov sends account information to central bank</description>
<variables>
<variable><type>int</type><name>id</name><description></description></variable>
<variable><type>double</type><name>payment_account</name><description></description></variable>
</variables>
</message>

<message>
<name>government_tax_rates</name>
<description></description>
<variables>
<variable><type>int</type><name>gov_id</name><description></description></variable>
<variable><type>double</type><name>tax_rate_corporate</name><description></description></variable>
<variable><type>double</type><name>tax_rate_hh_labour</name><description></description></variable>
<variable><type>double</type><name>tax_rate_hh_capital</name><description></description></variable>
<variable><type>double</type><name>tax_rate_vat</name><description></description></variable>
</variables>
</message>

<message>
<name>tax_payment</name>
<description></description>
<variables>
<variable><type>int</type><name>id</name><description></description></variable>
<variable><type>int</type><name>gov_id</name><description></description></variable>
<variable><type>double</type><name>tax_payment</name><description></description></variable>
</variables>
</message>

<message>
<name>mean_wage_for_government</name>
<description></description>
<variables>
<variable><type>int</type><name>gov_id</name><description></description></variable>
<variable><type>double</type><name>mean_wage</name><description></description></variable>
</variables>
</message>

<message>
<name>unemployment_benefit_announcement</name>
<description>Gov sends unemployment benefit announcement.</description>
<variables>
<variable><type>int</type><name>gov_id</name><description></description></variable>
<variable><type>double</type><name>unemployment_benefit_pct</name><description></description></variable>
</variables>
</message>

<message>
<name>unemployment_notification</name>
<description>Household sends unemployment notification to gov, applying for unemployment benefits.</description>
<variables>
<variable><type>int</type><name>gov_id</name><description></description></variable>
<variable><type>double</type><name>last_labour_income</name><description></description></variable>
</variables>
</message>

<message>
<name>transfer_payment_announcement</name>
<description>General announcement of a transfer payment.</description>
<variables>
<variable><type>int</type><name>gov_id</name><description></description></variable>
<variable><type>double</type><name>transfer_payment</name><description></description></variable>
</variables>
</message>

<message>
<name>transfer_payment_notification</name>
<description>An agent applies for a transfer payment and notifies its government.</description>
<variables>
<variable><type>int</type><name>gov_id</name><description></description></variable>
</variables>
</message>

<message>
<name>subsidy_payment_announcement</name>
<description>General announcement of a subsidy payment.</description>
<variables>
<variable><type>int</type><name>gov_id</name><description></description></variable>
<variable><type>double</type><name>subsidy_payment</name><description></description></variable>
</variables>
</message>

<message>
<name>subsidy_payment_notification</name>
<description>An agent applies for a subsidy payment and notifies its government.</description>
<variables>
<variable><type>int</type><name>gov_id</name><description></description></variable>
</variables>
</message>

<message>
<name>region_gdp_for_government</name>
<description>Sent by Eurostat. Includes the region_id and gdp for the region. Used by gov to compute its GDP.</description>
<variables>
<variable><type>int</type><name>region_id</name><description></description></variable>
<variable><type>double</type><name>gdp</name><description></description></variable>
</variables>
</message>

</messages>

</xmodel>
