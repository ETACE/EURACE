<!DOCTYPE xmodel SYSTEM "http://eurace.cs.bilgi.edu.tr/XMML.dtd">
<xmodel version="2" >
 <name>Consumption_Goods_Market</name>
 <version>Aix, 10/02/2009</version>
 <description></description>
 <models/>
 <environment>
  <constants/>
  <functionFiles>
   <file>Firm_Producer_Functions.c</file>
   <file>Household_Consumer_Functions.c</file>
   <file>Mall_functions.c</file>
   <file>Mall_aux_functions.c</file>
  </functionFiles>
  <timeUnits/>
  <dataTypes>
   <dataType>
    <name>consumption_goods_offer</name>
    <description>Used by household and mall to hold consumption goods offers</description>
    <variables>
     <variable>
      <type>int</type>
      <name>id</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>quality</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>price</name>
      <description></description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>consumption_request</name>
    <description>Used by  mall to hold demand</description>
    <variables>
     <variable>
      <type>int</type>
      <name>worker_id</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>consumer_region_id</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>firm_id</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>quantity</name>
      <description></description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>mall_info</name>
    <description>Used by firm to hold information about sales in malls</description>
    <variables>
     <variable>
      <type>int</type>
      <name>mall_id</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>critical_stock</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>current_stock</name>
      <description></description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>mall_quality_price_info</name>
    <description>Used by household to hold information about quality and prices of one good offered by mall</description>
    <variables>
     <variable>
      <type>int</type>
      <name>mall_id</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>firm_id</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>mall_region_id</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>quality</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>price</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>available</name>
      <description></description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>mall_stock</name>
    <description>Used by mall to hold information about current stock</description>
    <variables>
     <variable>
      <type>int</type>
      <name>firm_id</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>region_id</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>stock</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>price</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>quality</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>previous_price</name>
      <description></description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>delivery_volume_per_mall</name>
    <description>Used by firm to hold information about delivery volume per mall</description>
    <variables>
     <variable>
      <type>int</type>
      <name>mall_id</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>quantity</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>price</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>quality</name>
      <description></description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>logit_firm_id</name>
    <description>Used by household to stock logits and corresponding firm IDs</description>
    <variables>
     <variable>
      <type>double</type>
      <name>logit</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>firm_id</name>
      <description></description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>sales_in_mall</name>
    <description>Used by mall to calculate sales</description>
    <variables>
     <variable>
      <type>int</type>
      <name>firm_id</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>sales</name>
      <description></description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>ordered_quantity</name>
    <description>Used by household to stock ordered quantities</description>
    <variables>
     <variable>
      <type>int</type>
      <name>firm_id</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>quantity</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>price</name>
      <description></description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>received_quantities</name>
    <description>Used by household to stock received quantities</description>
    <variables>
     <variable>
      <type>int</type>
      <name>firm_id</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>quantity</name>
      <description></description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>sold_quantities_per_mall</name>
    <description>Used by firm to hold informations about sales </description>
    <variables>
     <variable>
      <type>int</type>
      <name>mall_id</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>sold_quantity</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>stock_empty</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>estimated_demand</name>
      <description></description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>data_type_sales</name>
    <description>Used for storing the sales of a mall in one period.</description>
    <variables>
     <variable>
      <type>int</type>
      <name>period</name>
      <description>Number of elapsed periods.</description>
     </variable>
     <variable>
      <type>double</type>
      <name>sales</name>
      <description>Sales in that mall in the certain period.</description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>sales_statistics</name>
    <description>Used by firm to store sales in malls of last periods</description>
    <variables>
     <variable>
      <type>int</type>
      <name>mall_id</name>
      <description></description>
     </variable>
     <variable>
      <type>data_type_sales_array</type>
      <name>sales</name>
      <description>A lower array that stores the sales of the last periods for the mall. </description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>financing_capital</name>
    <description></description>
    <variables>
     <variable>
      <type>double</type>
      <name>financing_per_month</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>nr_periods_before_repayment</name>
      <description></description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>temporary_sales_statistics</name>
    <description>This data type is used for building a temporray array of last sales in the malls. </description>
    <variables>
     <variable>
      <type>int</type>
      <name>mall_id</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>period</name>
      <description>Number of periods elapsedsince the sales was archieved.</description>
     </variable>
     <variable>
      <type>double</type>
      <name>sales</name>
      <description>Sales in the mall.</description>
     </variable>
    </variables>
   </dataType>
  </dataTypes>
 </environment>
 <agents>
  <xagent>
   <name>Firm</name>
   <description></description>
   <memory>
    <variable>
     <type>double</type>
     <name>mean_wage</name>
     <description>Average wage paid by a firm</description>
    </variable>
    <variable>
     <type>double</type>
     <name>needed_capital_stock</name>
     <description>The overall capital stock a firm wants to have</description>
    </variable>
    <variable>
     <type>double</type>
     <name>actual_cap_price</name>
     <description>Price of the latest capital good</description>
    </variable>
    <variable>
     <type>double</type>
     <name>mean_specific_skills</name>
     <description>Average specific skills of the workforce</description>
    </variable>
    <variable>
     <type>double</type>
     <name>planned_production_quantity</name>
     <description>Planned production quantity, has a value on production day, but is reset on other days.</description>
    </variable>
    <variable>
     <type>double</type>
     <name>production_quantity</name>
     <description>Actual production quantity, has a value on production day, but is reset on other days.</description>
    </variable>
    <variable>
     <type>double</type>
     <name>planned_output</name>
     <description>Planned output is the same as planned production quantity, but retains its value during the month.</description>
    </variable>
    <variable>
     <type>double</type>
     <name>output</name>
     <description>Actual output is the same as production quantity, but retains its value during the month.</description>
    </variable>
    <variable>
     <type>double</type>
     <name>unit_costs</name>
     <description>Cost per unit of the consumption good</description>
    </variable>
    <variable>
     <type>double</type>
     <name>total_supply</name>
     <description>The sum of local inventory and produced output gives the total supplied quantity</description>
    </variable>
    <variable>
     <type>double</type>
     <name>production_costs</name>
     <description>Actual production costs, labor and capital</description>
    </variable>
    <variable>
     <type>double</type>
     <name>revenue_per_day</name>
     <description>Daily revenue</description>
    </variable>
    <variable>
     <type>double</type>
     <name>technological_frontier</name>
     <description>Best available technology in the economy</description>
    </variable>
    <variable>
     <type>double</type>
     <name>cum_revenue</name>
     <description>Monthly revenue</description>
    </variable>
    <variable>
     <type>double</type>
     <name>out_of_stock_costs</name>
     <description></description>
    </variable>
    <variable>
     <type>sales_statistics_array</type>
     <name>malls_sales_statistics</name>
     <description>Sales of the last ten months</description>
    </variable>
    <variable>
     <type>double</type>
     <name>quality</name>
     <description>Quality of the consumption good</description>
    </variable>
    <variable>
     <type>double</type>
     <name>price</name>
     <description>Price of the consumption good</description>
    </variable>
    <variable>
     <type>double</type>
     <name>price_last_month</name>
     <description>Price of the consumption good in the last month</description>
    </variable>
    <variable>
     <type>int</type>
     <name>decil_production_rule</name>
     <description>Actual output is the same as production quantity, but retains its value during the month.</description>
    </variable>
    <variable>
     <type>double</type>
     <name>demand_capital_stock</name>
     <description>Demand for capital goods</description>
    </variable>
    <variable>
     <type>double</type>
     <name>planned_production_costs</name>
     <description> Planned production costs</description>
    </variable>
    <variable>
     <type>double</type>
     <name>adaption_production_volume_due_to_insufficient_finances</name>
     <description>Percentage of production by which the quantity is reduced</description>
    </variable>
    <variable>
     <type>double</type>
     <name>fraction_reserved_for_delayed_payments</name>
     <description></description>
    </variable>
    <variable>
     <type>sold_quantities_per_mall_array</type>
     <name>sold_quantities</name>
     <description>Sold quantities in the different malls</description>
    </variable>
    <variable>
     <type>double</type>
     <name>total_sold_quantity</name>
     <description>Daily sum of sold quantities in all malls. The sold quantity of one firm in all malls.</description>
    </variable>
    <variable>
     <type>double</type>
     <name>cum_total_sold_quantity</name>
     <description>Monthly sum of sold quantities in all malls. The monthly sold quantity of one firm in all malls.</description>
    </variable>
    <variable>
     <type>double</type>
     <name>sold_quantity_in_calendar_month</name>
     <description>Monthly sum of sold quantities in all malls. The quantity sold in one calendar month.</description>
    </variable>
    <variable>
     <type>delivery_volume_per_mall_array</type>
     <name>delivery_volume</name>
     <description>Delivery volume for each mall</description>
    </variable>
    <variable>
     <type>delivery_volume_per_mall_array</type>
     <name>planned_delivery_volume</name>
     <description>Planned delivery volume for each  mall</description>
    </variable>
    <variable>
     <type>mall_info_array</type>
     <name>current_mall_stocks</name>
     <description>Current stock in each mall</description>
    </variable>
    <variable>
     <type>double_array</type>
     <name>last_planned_production_quantities</name>
     <description>Array of the planned production quantities in the past</description>
    </variable>
    <variable>
     <type>double</type>
     <name>total_external_financing_obtained</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>capital_costs</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>labour_costs</name>
     <description></description>
    </variable>
    <variable>
     <type>financing_capital_array</type>
     <name>capital_financing</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>financial_resources_for_production</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>planned_value_capital_stock</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>total_units_local_inventory</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>calc_capital_costs</name>
     <description>Calculative capital costs</description>
    </variable>
    <variable>
     <type>double</type>
     <name>calc_production_costs</name>
     <description>Calculative production costs</description>
    </variable>
    <variable>
     <type>double</type>
     <name>firm_productivity</name>
     <description>min of technology and mean_specific_skills</description>
    </variable>
    <variable>
     <type>double</type>
     <name>firm_productivity_last_year</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>firm_productivity_progress</name>
     <description></description>
    </variable>
   </memory>
   <functions>
    <function>
     <name>Firm_calc_production_quantity</name>
     <description>Firm calculate the intended production volume depending on the current stocks in the malls</description>
     <currentState>Firm_Start_Producer_Role</currentState>
     <nextState>01</nextState>
     <condition>
      <time>
       <period>monthly</period>
       <phase>a.day_of_month_to_act</phase>
      </time>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Firm_set_quantities_zero</name>
     <description>Dummy: no production on not_day_of_month_to_act</description>
     <currentState>Firm_Start_Producer_Role</currentState>
     <nextState>00b</nextState>
     <condition>
      <not>
       <time>
        <period>monthly</period>
        <phase>a.day_of_month_to_act</phase>
       </time>
      </not>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Firm_calc_input_demands</name>
     <description>Firms calculate the labor demand and the demand for capital goods</description>
     <currentState>01</currentState>
     <nextState>02</nextState>
     <inputs>
      <input>
       <messageName>productivity</messageName>
      </input>
     </inputs>
     <outputs/>
    </function>
    <function>
     <name>Firm_calc_production_quantity_2</name>
     <description>Firms iterate over the planned production quantity decreasing it incrementally,&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
 such that the corresponding labor demand and capital demand can be financed by &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
 the actually obtained financial resources, AFTER all prior financial commitments have been paid.</description>
     <currentState>Firm_End_Financial_Management</currentState>
     <nextState>Firm_Start_Labour_Role</nextState>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Firm_send_capital_demand</name>
     <description>Firm sends demand for capital to the capital goods market.</description>
     <currentState>Firm_End_Labour_Role</currentState>
     <nextState>11a</nextState>
     <inputs/>
     <outputs>
      <output>
       <messageName>capital_good_request</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Firm_receive_capital_goods</name>
     <description>Firm sends demand for capital to the capital goods market.</description>
     <currentState>11a</currentState>
     <nextState>11b</nextState>
     <inputs>
      <input>
       <messageName>capital_good_delivery</messageName>
       <filter>
        <lhs>
         <value>a.id</value>
        </lhs>
        <op>EQ</op>
        <rhs>
         <value>m.firm_id</value>
        </rhs>
       </filter>
      </input>
     </inputs>
     <outputs/>
    </function>
    <function>
     <name>Firm_execute_production</name>
     <description>Firm sends demand for capital to the capital goods market.</description>
     <currentState>11b</currentState>
     <nextState>11</nextState>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Firm_calc_pay_costs</name>
     <description>In this function the firm receives the purchased investment&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
 goods and pays the goods and   the wage bill. Additionally, the &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
 new mean wage and the new average specific skill level is computed.</description>
     <currentState>11</currentState>
     <nextState>12</nextState>
     <inputs/>
     <outputs>
      <output>
       <messageName>wage_payment</messageName>
      </output>
      <output>
       <messageName>pay_capital_goods</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Firm_send_goods_to_mall</name>
     <description>Here the firms send the produced goods to the malls. &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
If the realized output is less than the intended one, then &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
the malls are only delivered with a proportional &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
share of their planned delivery volumes.</description>
     <currentState>12</currentState>
     <nextState>Firm_Start_Seller_Role</nextState>
     <inputs/>
     <outputs>
      <output>
       <messageName>update_mall_stock</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Firm_calc_revenue</name>
     <description>Here the firms calc the revenues and profits and then &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
distribute the dividends to households.</description>
     <currentState>Firm_Start_Seller_Role</currentState>
     <nextState>Firm_End_Seller_Role</nextState>
     <inputs>
      <input>
       <messageName>sales</messageName>
       <filter>
        <lhs>
         <value>a.id</value>
        </lhs>
        <op>EQ</op>
        <rhs>
         <value>m.firm_id</value>
        </rhs>
       </filter>
      </input>
     </inputs>
     <outputs/>
    </function>
    <function>
     <name>idle</name>
     <description>Firm does nothing</description>
     <currentState>14</currentState>
     <nextState>Firm_End_Financial_Management_Role</nextState>
     <condition>
      <not>
       <time>
        <period>monthly</period>
        <phase>a.last_day_of_month_to_act</phase>
       </time>
      </not>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Firm_compute_sales_statistics</name>
     <description></description>
     <currentState>14</currentState>
     <nextState>Firm_Start_Financial_Management_Role</nextState>
     <condition>
      <time>
       <period>monthly</period>
       <phase>a.last_day_of_month_to_act</phase>
      </time>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Firm_update_specific_skills_of_workers</name>
     <description>Because the specific skills of workers have changed the &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
firms update the specific skill levels of the workers.</description>
     <currentState>Firm_End_Seller_Role</currentState>
     <nextState>14</nextState>
     <condition>
      <time>
       <period>monthly</period>
       <phase>a.day_of_month_to_act</phase>
      </time>
     </condition>
     <inputs>
      <input>
       <messageName>specific_skill_update</messageName>
       <filter>
        <lhs>
         <value>a.id</value>
        </lhs>
        <op>EQ</op>
        <rhs>
         <value>m.firm_id</value>
        </rhs>
       </filter>
      </input>
     </inputs>
     <outputs/>
    </function>
    <function>
     <name>idle</name>
     <description></description>
     <currentState>Firm_End_Seller_Role</currentState>
     <nextState>14</nextState>
     <condition>
      <not>
       <time>
        <period>monthly</period>
        <phase>a.day_of_month_to_act</phase>
       </time>
      </not>
     </condition>
     <inputs/>
     <outputs/>
    </function>
   </functions>
  </xagent>
  <xagent>
   <name>Household</name>
   <description></description>
   <memory>
    <variable>
     <type>double</type>
     <name>consumption_budget</name>
     <description>Part of the budget for consumption</description>
    </variable>
    <variable>
     <type>double</type>
     <name>consumption_budget_in_month</name>
     <description>The budget that is available for consumption during the month</description>
    </variable>
    <variable>
     <type>double</type>
     <name>mean_income</name>
     <description>This holds the mean income of the last four periods</description>
    </variable>
    <variable>
     <type>int</type>
     <name>week_of_month</name>
     <description>Week counter</description>
    </variable>
    <variable>
     <type>double</type>
     <name>weekly_budget</name>
     <description>Budget for one week</description>
    </variable>
    <variable>
     <type>int</type>
     <name>rationed</name>
     <description>Indicator: 1: desired good is sold out; 0: else</description>
    </variable>
    <variable>
     <type>int</type>
     <name>mall_completely_sold_out</name>
     <description>Indicator: 1: no stocks in the mall, 0: else</description>
    </variable>
    <variable>
     <type>ordered_quantity</type>
     <name>order_quantity[2]</name>
     <description>The ordered quantity of the desired good</description>
    </variable>
    <variable>
     <type>received_quantities</type>
     <name>received_quantity[2]</name>
     <description>Received quantity of the desired good </description>
    </variable>
    <variable>
     <type>int</type>
     <name>day_of_week_to_act</name>
     <description>Weekly shopping day</description>
    </variable>
    <variable>
     <type>int</type>
     <name>day_of_month_receive_income</name>
     <description>The day when the household receives the wage or unemployment benefit</description>
    </variable>
    <variable>
     <type>double</type>
     <name>current_productivity_employer</name>
     <description>Actual capital productivity of the employer</description>
    </variable>
    <variable>
     <type>double</type>
     <name>current_mean_specific_skills_employer</name>
     <description>Average specific skills of the workforce of the employer</description>
    </variable>
    <variable>
     <type>double</type>
     <name>tax_payment</name>
     <description>The total amount of taxes paid by household.</description>
    </variable>
    <variable>
     <type>double</type>
     <name>cum_total_dividends</name>
     <description>Because dividends are paid daily and taxes monthly, the household has to cumulate dividens</description>
    </variable>
    <variable>
     <type>double</type>
     <name>tax_rate_hh_capital</name>
     <description>The current tax rates on capital income</description>
    </variable>
    <variable>
     <type>double</type>
     <name>tax_rate_hh_labour</name>
     <description>The current tax rates on labour income</description>
    </variable>
    <variable>
     <type>double</type>
     <name>price_index</name>
     <description>The current mean prices sent by Eurostat</description>
    </variable>
    <variable>
     <type>double</type>
     <name>price_index_base_period</name>
     <description>The mean prices of a base period</description>
    </variable>
    <variable>
     <type>double</type>
     <name>commuting_costs_price_level_weight</name>
     <description>Weight of price level that influences the commuting costs</description>
    </variable>
    <variable>
     <type>double_array</type>
     <name>last_income</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>expenditures</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>received_dividend</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>flag_consumption_shifting</name>
     <description>Indicator variable that shows if the consumer has to shift the consumption day due to selling restrictions on the Finacual market.</description>
    </variable>
    <variable>
     <type>double</type>
     <name>excess_weekly_budget</name>
     <description>Auxiliary variable to be used in stategraph condition, excess_weekly_budget=weekly_budget-payment_account</description>
    </variable>
    <variable>
     <type>double</type>
     <name>wealth_income_ratio_actual</name>
     <description>The actual wealth/mean_income ratio of the household.</description>
    </variable>
    <variable>
     <type>double</type>
     <name>wealth_income_ratio_target</name>
     <description>Target value of wealth/mean_income ratio used in the Carrol rule for consumption_budget decision.</description>
    </variable>
   </memory>
   <functions>
    <function>
     <name>Household_idle</name>
     <description>household does nothing</description>
     <currentState>09</currentState>
     <nextState>15</nextState>
     <condition>
      <not>
       <time>
        <period>weekly</period>
        <phase>a.day_of_week_to_act</phase>
       </time>
      </not>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Household_rank_and_buy_goods_1</name>
     <description>Household receives information about the offered range &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
of goods in the malls. Depending on these infos the household &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
sends its good request.</description>
     <currentState>09</currentState>
     <nextState>09b</nextState>
     <condition>
      <lhs>
       <time>
        <period>weekly</period>
        <phase>a.day_of_week_to_act</phase>
       </time>
      </lhs>
      <op>AND</op>
      <rhs>
       <not>
        <lhs>
         <value>a.excess_weekly_budget</value>
        </lhs>
        <op>GT</op>
        <rhs>
         <value>0.0000001</value>
        </rhs>
       </not>
      </rhs>
     </condition>
     <inputs>
      <input>
       <messageName>quality_price_info_1</messageName>
       <filter>
        <lhs>
         <value>a.region_id</value>
        </lhs>
        <op>EQ</op>
        <rhs>
         <value>m.mall_region_id</value>
        </rhs>
       </filter>
      </input>
     </inputs>
     <outputs>
      <output>
       <messageName>consumption_request_1</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Household_receive_goods_read_rationing</name>
     <description>The household gets information about the accepted amount of &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
goods and, if the mall is completely sold out then the households set the &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
order and delivery volumes befor the second step to zero.</description>
     <currentState>10</currentState>
     <nextState>11</nextState>
     <inputs>
      <input>
       <messageName>accepted_consumption_1</messageName>
       <filter>
        <lhs>
         <value>a.id</value>
        </lhs>
        <op>EQ</op>
        <rhs>
         <value>m.household_id</value>
        </rhs>
       </filter>
      </input>
     </inputs>
     <outputs/>
    </function>
    <function>
     <name>Household_set_values_zero</name>
     <description></description>
     <currentState>11</currentState>
     <nextState>14</nextState>
     <condition>
      <lhs>
       <value>a.rationed</value>
      </lhs>
      <op>NEQ</op>
      <rhs>
       <value>1</value>
      </rhs>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Household_rank_and_buy_goods_2</name>
     <description>Household receives information about the offered range &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
of goods in the malls. Depending on these infos the household &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
sends its good request.</description>
     <currentState>11</currentState>
     <nextState>12</nextState>
     <condition>
      <lhs>
       <value>a.rationed</value>
      </lhs>
      <op>EQ</op>
      <rhs>
       <value>1</value>
      </rhs>
     </condition>
     <inputs>
      <input>
       <messageName>quality_price_info_2</messageName>
       <filter>
        <lhs>
         <value>a.region_id</value>
        </lhs>
        <op>EQ</op>
        <rhs>
         <value>m.mall_region_id</value>
        </rhs>
       </filter>
      </input>
     </inputs>
     <outputs>
      <output>
       <messageName>consumption_request_2</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Household_receive_goods_read_rationing_2</name>
     <description>This function stores in memory the realized consumption if HH was rationed in first round. </description>
     <currentState>12</currentState>
     <nextState>14</nextState>
     <inputs>
      <input>
       <messageName>accepted_consumption_2</messageName>
       <filter>
        <lhs>
         <value>a.id</value>
        </lhs>
        <op>EQ</op>
        <rhs>
         <value>m.household_id</value>
        </rhs>
       </filter>
      </input>
     </inputs>
     <outputs/>
    </function>
    <function>
     <name>Household_handle_leftover_budget</name>
     <description>This function convert the remaining budget, that is not &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
spent in both consumtion steps, into the PAYMENT_ACCOUNT.</description>
     <currentState>14</currentState>
     <nextState>15</nextState>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Household_back_shifting_consumption_day</name>
     <description></description>
     <currentState>09b</currentState>
     <nextState>10</nextState>
     <condition>
      <lhs>
       <value>a.flag_consumption_shifting</value>
      </lhs>
      <op>EQ</op>
      <rhs>
       <value>1</value>
      </rhs>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Household_idle</name>
     <description></description>
     <currentState>09b</currentState>
     <nextState>10</nextState>
     <condition>
      <lhs>
       <value>a.flag_consumption_shifting</value>
      </lhs>
      <op>NEQ</op>
      <rhs>
       <value>1</value>
      </rhs>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Household_shifting_consumption_day</name>
     <description></description>
     <currentState>09</currentState>
     <nextState>15</nextState>
     <condition>
      <lhs>
       <time>
        <period>weekly</period>
        <phase>a.day_of_week_to_act</phase>
       </time>
      </lhs>
      <op>AND</op>
      <rhs>
       <lhs>
        <value>a.excess_weekly_budget</value>
       </lhs>
       <op>GT</op>
       <rhs>
        <value>0.0000001</value>
       </rhs>
      </rhs>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Household_send_account_update</name>
     <description>Household sends account update to bank.</description>
     <currentState>15</currentState>
     <nextState>16</nextState>
     <inputs/>
     <outputs>
      <output>
       <messageName>bank_account_update</messageName>
      </output>
     </outputs>
    </function>
   </functions>
  </xagent>
  <xagent>
   <name>Mall</name>
   <description></description>
   <memory>
    <variable>
     <type>mall_stock_array</type>
     <name>current_stock</name>
     <description>Actual stock of the different firms</description>
    </variable>
    <variable>
     <type>sales_in_mall_array</type>
     <name>firm_revenues</name>
     <description>Actual revenue of the different firms</description>
    </variable>
    <variable>
     <type>double</type>
     <name>total_supply</name>
     <description>Total number of goods</description>
    </variable>
    <variable>
     <type>double</type>
     <name>export_volume_matrix[900]</name>
     <description>Matrix holding data on exports between regions, measured in volume.</description>
    </variable>
    <variable>
     <type>double</type>
     <name>export_value_matrix[900]</name>
     <description>Matrix holding data on exports between regions, measured in value.</description>
    </variable>
    <variable>
     <type>double</type>
     <name>export_previous_value_matrix[900]</name>
     <description>Matrix holding data on exports between regions, measured against previous prices.</description>
    </variable>
   </memory>
   <functions>
    <function>
     <name>Mall_reset_export_data</name>
     <description>Mall resets the export data at start of month.</description>
     <currentState>start_Mall</currentState>
     <nextState>01</nextState>
     <condition>
      <time>
       <period>monthly</period>
       <phase>1</phase>
      </time>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>idle</name>
     <description></description>
     <currentState>start_Mall</currentState>
     <nextState>01</nextState>
     <condition>
      <not>
       <time>
        <period>monthly</period>
        <phase>1</phase>
       </time>
      </not>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Mall_update_mall_stock</name>
     <description>Malls receive the goods deliveries.</description>
     <currentState>01</currentState>
     <nextState>02</nextState>
     <inputs>
      <input>
       <messageName>update_mall_stock</messageName>
      </input>
      <input>
       <messageName>bankruptcy_illiquidity</messageName>
      </input>
     </inputs>
     <outputs/>
    </function>
    <function>
     <name>Mall_send_quality_price_info_1</name>
     <description>Malls send message with quality and price information.</description>
     <currentState>02</currentState>
     <nextState>03</nextState>
     <inputs/>
     <outputs>
      <output>
       <messageName>quality_price_info_1</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Mall_update_mall_stocks_sales_rationing_1</name>
     <description>Mall reads the consumption requests and satisfies the demand &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
if possible (otherwise rationing).</description>
     <currentState>03</currentState>
     <nextState>04</nextState>
     <inputs>
      <input>
       <messageName>consumption_request_1</messageName>
       <filter>
        <lhs>
         <value>a.id</value>
        </lhs>
        <op>EQ</op>
        <rhs>
         <value>m.mall_id</value>
        </rhs>
       </filter>
      </input>
     </inputs>
     <outputs>
      <output>
       <messageName>quality_price_info_2</messageName>
      </output>
      <output>
       <messageName>accepted_consumption_1</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Mall_update_mall_stocks_sales_rationing_2</name>
     <description>After the second request round the mall satisfies the demand if &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
possible, otherwise rationing.</description>
     <currentState>04</currentState>
     <nextState>05</nextState>
     <inputs>
      <input>
       <messageName>consumption_request_2</messageName>
       <filter>
        <lhs>
         <value>a.id</value>
        </lhs>
        <op>EQ</op>
        <rhs>
         <value>m.mall_id</value>
        </rhs>
       </filter>
      </input>
     </inputs>
     <outputs>
      <output>
       <messageName>accepted_consumption_2</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Mall_pay_firm</name>
     <description>Mall transfers the revenues to the firms.</description>
     <currentState>05</currentState>
     <nextState>05a</nextState>
     <inputs/>
     <outputs>
      <output>
       <messageName>sales</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Mall_send_export_data</name>
     <description>Mall sends the export data to Eurostat at end of each month.</description>
     <currentState>06</currentState>
     <nextState>end_Mall</nextState>
     <condition>
      <time>
       <period>monthly</period>
       <phase>0</phase>
      </time>
     </condition>
     <inputs/>
     <outputs>
      <output>
       <messageName>mall_data</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>idle</name>
     <description></description>
     <currentState>06</currentState>
     <nextState>end_Mall</nextState>
     <condition>
      <not>
       <time>
        <period>monthly</period>
        <phase>0</phase>
       </time>
      </not>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Mall_read_insolvency_bankruptcy</name>
     <description>This function reads the bankruptcy message of firms that are in a insolvency.</description>
     <currentState>05a</currentState>
     <nextState>06</nextState>
     <inputs>
      <input>
       <messageName>bankruptcy_insolvency</messageName>
      </input>
     </inputs>
     <outputs/>
    </function>
   </functions>
  </xagent>
 </agents>
 <messages>
  <message>
   <name>wage_payment</name>
   <description>Sent by firms. Including the id, the worker id, the wage and &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
the productivity  and mean specific skills of the employer in &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
order to update the specific skills.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>worker_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>payment</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>productivity</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>average_specific_skills</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>quality_price_info_1</name>
   <description>Sent by mall. Including id, region id, id of the supplier (firm), the &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
quality and price of the goods to inform the hosueholds about these goods. </description>
   <variables>
    <variable>
     <type>int</type>
     <name>mall_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>mall_region_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>quality</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>price</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>available</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>quality_price_info_2</name>
   <description>Sent by mall. Including id, region id, id of the supplier (firm), &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
the quality and price of the goods to inform the hosueholds about these goods.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>mall_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>mall_region_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>quality</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>price</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>available</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>update_mall_stock</name>
   <description>Send by mall. Updates the firm regarding the stocks of the firm in the mall.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>mall_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>quantity</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>quality</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>price</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>previous_price</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>consumption_request_1</name>
   <description>Sent by household. Including the id, the mall id, the id of the &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
supplier and the quantity of the good a household wants to have.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>mall_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>worker_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>region_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>quantity</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>consumption_request_2</name>
   <description>Sent by household. Including the id, the mall id, the id of the &#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;&#xd;
supplier and the quantity of the good a household wants to have.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>mall_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>worker_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>region_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>quantity</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>accepted_consumption_1</name>
   <description>Sent by mall. Quantity of the good which can be delivered by the mall.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>mall_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>household_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>offered_consumption_volume</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>rationed</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>accepted_consumption_2</name>
   <description>Sent by mall. Quantity of the good which can be delivered by the mall.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>mall_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>household_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>offered_consumption_volume</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>rationed</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>sales</name>
   <description>Sent by mall. Mall informs the firms about the revenue and if there are some stocks left.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>mall_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>revenue</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>stock_empty</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>current_stock</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>specific_skill_update</name>
   <description>Sent by households. Household informs the firm about the updates specific skills.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>specific_skills</name>
     <description></description>
    </variable>
   </variables>
  </message>
 </messages>
</xmodel>
